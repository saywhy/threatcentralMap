
console.log('12212');


    var pathList = {
        "MobileMaliciousHashDF":" M759.598,16.259H240.402c-46.455,0-81.979,35.524-81.979,81.979v819.784c0,46.454,35.524,81.979,81.979,81.979h519.196c46.455,0,81.979-35.524,81.979-81.979V98.238C841.576,51.783,806.053,16.259,759.598,16.259z M240.402,70.912h519.196c16.396,0,27.326,10.93,27.326,27.326v614.837H213.076V98.238C213.076,81.842,224.006,70.912,240.402,70.912z M759.598,945.348H240.402c-16.396,0-27.326-10.931-27.326-27.326V767.728h573.848v150.294C786.924,934.417,775.993,945.348,759.598,945.348z M759.598,16.259 H240.402 c-46.455,0-81.979,35.524-81.979,81.979 v819.784c0,46.454,35.524,81.979,81.979,81.979h519.196 c46.455,0,81.979-35.524,81.979-81.979V98.238C841.576,51.783,806.053,16.259,759.598,16.259z M240.402,70.912h519.196 c16.396,0,27.326,10.93,27.326,27.326v614.837H213.076V98.238C213.076,81.842,224.006,70.912,240.402,70.912z M759.598,945.348 H240.402c-16.396,0-27.326-10.931-27.326-27.326V767.728h573.848v150.294C786.924,934.417,775.993,945.348,759.598,945.348z"+"M445.348,849.706c0,30.187,24.465,54.652,54.652,54.652c30.187,0,54.652-24.466,54.652-54.652 c0.01-30.187-24.444-54.663-54.631-54.674c-30.187-0.011-54.663,24.444-54.673,54.631 C445.348,849.674,445.348,849.695,445.348,849.706z"+"M541.624,242.655l145.693,249.756l-1.484-40.141l37.163-4.457v117.443l-102.58,59.467l-14.858-32.712l49.059-26.755 H345.389l49.059,26.755l-14.864,32.712l-102.58-57.978V447.814l35.679,4.457l-1.489,53.521l156.101-263.137l-44.597,26.76 l-20.815-29.733l102.58-59.466l102.579,59.466l-20.814,29.733L541.624,242.655z M497.027,236.709L321.601,529.574 c-4.456,7.435-1.483,13.38,7.435,13.38h350.847c7.435,0,11.896-5.945,7.435-13.38L511.896,236.709 C507.435,230.761,500,230.761,497.027,236.709z M489.592,342.259c0-7.432,5.946-14.867,14.87-14.867 c7.435,0,14.864,5.946,14.864,14.867v89.197c0,7.435-5.946,14.869-14.864,14.869c-7.435,0-14.87-5.945-14.87-14.869V342.259z M488.109,490.928c0-7.435,5.945-14.869,14.87-14.869c7.429,0,14.857,5.945,14.857,14.869c0,7.429-5.939,14.864-14.857,14.864 C495.538,505.792,488.109,499.846,488.109,490.928L488.109,490.928z",
        "MaliciousURLsDF":"M649.094,9.567c-5.563-1.755-11.642-0.407-15.941,3.53c-4.3,3.944-6.171,9.878-4.908,15.571c1.259,5.699,5.465,10.284,11.028,12.039c220.611,69.345,357.162,289.798,320.985,518.20c-36.176,228.401-234.17,395.866-465.411,393.644S68.869,779.092,37.09,550.037C5.312,320.979,146.079,103.194,367.981,38.10c8.65-2.545,13.601-11.617,11.061-20.272c-2.545-8.651-11.622-13.602-20.274-11.05C121.286,76.423-29.372,309.499,4.633,554.636c34.001,245.142,242.41,428.406,489.881,430.79c247.478,2.382,459.377-176.831,498.099-421.276C1031.329,319.712,885.191,83.782,649.094,9.567L649.094,9.567zM356.405,400.234l-46.437,182.661h-20.143l-54.316-132.003l-53.272,132.003h-20.868l-44.205-183.438l23.74-5.75l34.174,142.064l50.354-124.093h20.863l50.368,123.746l35.971-140.95L356.405,400.234z M618.573,400.234l-46.437,182.66h-20.143l-54.316-132.003l-53.272,132.003h-20.868l-44.207-183.438l23.741-5.759l34.174,142.064L487.6,411.669h20.86l50.363,123.746l35.971-140.95L618.573,400.234z M880.742,400.234l-46.438,182.661h-20.143l-54.316-132.003l-53.273,132.00h-20.854l-44.215-183.438l23.741-5.759l34.169,142.064l50.354-124.093h20.867l50.363,123.746l35.971-140.95L880.742,400.234zM499.263,830.657c-123.599,0.019-237.304-67.59-296.327-176.186c-2.892-5.23-2.761-11.607,0.346-16.712c3.102-5.105,8.707-8.151,14.677-7.987c5.975,0.164,11.397,3.514,14.219,8.782c53.208,97.867,155.684,158.799,267.08,158.799c111.399,0,213.875-60.932,267.082-158.799c2.845-5.227,8.263-8.534,14.215-8.684c5.951-0.146,11.523,2.892,14.625,7.968c3.103,5.081,3.262,11.426,0.417,16.651C736.568,763.081,622.859,830.681,499.263,830.657L499.263,830.657z M205.743,381.167c-5.61-0.008-10.836-2.845-13.906-7.541c-3.069-4.698-3.565-10.622-1.324-15.764c53.044-120.558,171.409-199.214,303.102-201.423c131.695-2.203,252.625,72.453,309.669,191.167c3.476,8.184-0.089,17.648-8.1,21.509c-8.01,3.856-17.634,0.739-21.864-7.079c-51.415-107.004-160.413-174.296-279.108-172.308c-118.698,1.989-225.384,72.887-273.188,181.554c-2.676,6.04-8.674,9.922-15.28,9.899V381.167z M205.743,381.167",
        "PhishingURLsDF":"M635.944107 717.69344s36.983467-70.756693-22.445227-124.051627c-46.564693 74.676907-167.909547 202.486613-314.482347 107.733334-2.501973 33.838933 13.174613 65.97376 24.401067 84.230826 32.19456 17.16736 105.21856 37.233493 165.953707 31.953067 72.190293-6.257493 138.653013-2.23488 176.951466 25.069227 34.76992-68.52352-30.378667-124.934827-30.378666-124.934827z" +"M344.150187 562.75968c30.47424-18.929493 93.66016-31.627947 157.435733-40.02816-0.228693-0.44288-0.44288-0.84224-0.6784-1.28512-1.476267-2.786987-3.085653-5.62176-4.56192-8.646827-1.291093-3.13088-2.64192-6.3616-4.007253-9.682773-2.804907-6.59712-5.631147-13.558613-7.601494-21.080747-1.122133-3.710293-2.23744-7.476907-3.373226-11.288746-0.996693-3.828053-1.66912-7.79776-2.51648-11.738454-0.761173-3.95008-1.691307-7.891627-2.28864-11.90656l-1.460907-12.071253c-1.2032-8.02304-1.122133-16.126293-1.601707-23.98976-0.12544-7.891627 0.103253-15.63392 0.443734-23.064747 0.634027-7.43936 0.974507-14.59968 2.029226-21.32992 0.789333-6.738773 1.859413-13.050027 2.973867-18.84672 2.170027-11.583147 4.649813-21.065387 6.606507-27.634346 0.959147-3.28448 1.786027-5.899093 2.39872-7.67744l0.922453-2.6496c0.87808-2.513067 3.57888-3.8144 6.045013-2.93632 2.28096 0.82944 3.55072 3.249493 3.04128 5.595306 0 0.006827-3.144533 14.562987-3.897173 37.120854-0.229547 5.591893-0.3328 11.64544-0.110933 18.043733-0.05888 6.385493 0.663893 13.1072 1.08544 20.000427 0.75264 6.885547 1.608533 13.9648 2.811733 21.054293 1.52064 7.040853 2.487467 14.27712 4.68736 21.179733l2.856107 10.41152c1.055573 3.41504 2.43456 6.70208 3.60192 10.01472 1.2544 3.275093 2.310827 6.5792 3.65312 9.728 1.460907 3.072853 2.914987 6.117547 4.340053 9.1008 2.58304 6.083413 5.8752 11.508907 9.025707 16.576 1.536 2.555733 3.011413 5.0304 4.450986 7.43936 1.608533 2.2784 3.313493 4.38272 4.849494 6.4512 3.18208 4.0704 5.837653 7.947947 8.539306 11.093334 2.318507 2.42176 4.302507 4.514987 6.103894 6.3872 55.842133-5.720747 105.550507-8.351573 125.559466-9.312427 31.899307-1.503573 85.431467-13.1328 121.980587-35.072-17.795413-5.389653-39.7824-13.246293-51.11808-22.012587 15.233707-5.361493 56.61696-4.043947 80.07936-2.769066 3.73504-5.049173 6.6432-10.374827 8.3328-16.068267 14.481067-48.72448-121.949867-207.94624-282.361173-214.74816-125.973333-5.351253-213.84704 56.658773-213.84704 56.658773s-66.491733 4.875093-111.048534 36.607147c6.767787 22.18752 20.701867 35.268267 10.133334 61.571413-14.775467 36.84608-44.099413 89.657173-44.328107 162.00704-0.471893 145.02144 65.606827 210.387627 102.362453 237.869227-42.19136-79.738027-17.2672-168.283307 48.451414-209.07008z m313.89184-215.108267a25.385813 25.385813 0 0 1 36.334933 0c10.044587 10.21952 10.044587 26.765653 0 36.965547a25.366187 25.366187 0 0 1-36.334933 0c-10.03776-10.199893-10.03776-26.755413 0-36.965547z"+"M936.557227 522.95424a27.124053 27.124053 0 0 0-10.258774-12.504747c-0.833707-231.12192-189.11488-418.8928-420.43136-418.8928-231.82592 0-420.43904 188.608853-420.43904 420.440747 0 231.835307 188.612267 420.445867 420.43904 420.445867h147.45856c5.137067 0 9.314133-4.178773 9.314134-9.312427 0-5.13792-4.177067-9.317547-9.314134-9.317547H505.867093c-221.559467 0-401.809067-180.253013-401.809066-401.815893 0-221.559467 180.2496-401.814187 401.809066-401.814187 219.611307 0 398.637227 177.096533 401.7664 395.976534a27.49696 27.49696 0 0 0-6.687573 1.777493c-13.963093 5.69344-20.701867 21.62432-15.01184 35.59936 1.541973 3.8016 3.881813 7.059627 6.708053 9.6896-0.6784 1.43872-1.365333 2.906453-2.021546 4.292267-15.802027 33.504427-26.231467 55.63392-40.00256 84.369066-18.112853 37.799253-43.531947 47.00928-57.0752 49.170774-13.676373 2.159787-26.976427-1.146027-33.88416-8.39936-8.2816-8.712533-17.596587-22.761813-14.90944-40.290987 2.95936-19.27424 19.772587-39.799467 49.10336-60.224853l15.727786 8.574293c0.07424-0.122027 6.480213-11.867307 17.005227-30.099627l16.938667-29.341013-29.633707 16.42496c-53.39904 29.567147-82.906453 60.448427-87.72608 91.812693-3.8528 25.056427 8.686933 44.343467 19.869013 56.08448 11.21792 11.79648 30.541653 17.16736 50.43968 14.0288 5.853013-0.920747 11.557547-2.527573 17.08544-4.781226 22.112427-8.989867 41.26464-28.224 54.011734-54.824107 13.80096-28.80256 24.24576-50.952533 40.046933-84.484267 0.774827-1.641813 1.57184-3.310933 2.376533-5.021866 3.830613 0.17664 7.76448-0.425813 11.536214-1.95584 13.978453-5.677227 20.70272-21.626027 15.0272-35.606187z",
        "BotnetCAndCURLsDF":"M907.194,775.508H746.236l-23.67,25.245h-3.147l-7.89,9.471h-3.157l-6.314,7.89h-3.156l-4.729,6.31h-3.158l-3.151,4.737l-4.737,1.574l-1.576,3.155l-6.313,1.576l-3.158,4.741l-6.304,1.576l-1.581,3.157l-6.309,1.582l-1.582,3.151h-3.156v1.578h-3.151v1.584h-3.148v1.576h-3.156l-1.581,3.155h-3.152v1.578l-6.313,1.579v1.582l-6.314,1.578v1.58h-4.729v1.579l-6.309,1.582v1.572c-2.634,0.536-5.262,1.055-7.895,1.585v1.58h-4.734v1.582l-4.732,1.58v-1.58c-3.196-3.613-1.581-15.705-1.581-22.094v-59.966c5.525-1.125,8.619-4.042,12.624-6.308h3.157l1.58-3.156l6.309-1.575l1.581-3.16h3.156l1.572-3.155h3.157v-1.576c1.576-0.532,3.152-1.053,4.732-1.582l1.581-3.155h3.157l3.152-4.741h3.157l1.58-3.145h1.582l1.576-3.153h3.151l4.732-6.313h3.158l12.628-14.202h3.147l3.156-4.734l12.622-11.049v-3.155c3.691-3.152,7.366-6.304,11.048-9.467v-3.152l6.309-4.743v-3.146l4.738-3.156v-3.153l3.153-1.576v-3.157l4.732-3.156v-3.157l3.151-1.576v-3.155l3.158-1.578l1.58-4.743h1.581l3.157-9.46l3.151-1.581l3.157-9.472l3.148-1.581v-3.146h1.59v-3.157h1.571v-4.739h1.576l1.586-6.308h1.575v-3.156h1.581v-4.735h1.581v-3.151h1.581l1.575-9.47h1.581v-3.151h1.577l14.203-53.654l1.586-26.834h1.576c2.252-7.846,0.117-44.693-1.576-50.493v-15.779c-2.363-8.066-3.865-19.198-6.309-26.828v-7.894h-1.581v-3.152h-1.58v-6.309h-1.577v-6.314h-1.581v-4.733h-1.581v-4.727h-1.58v-4.734h-1.581l-1.577-9.471h-1.58l-1.581-7.895h-1.581l-1.581-6.304h-1.575v-3.156h-1.581v-4.739h-1.581l-3.156-9.47h-1.572l-1.581-6.306l-3.152-1.58l-3.157-9.471l-3.156-1.582l-1.581-6.314l-3.152-1.572v-3.156h-1.586l-1.576-4.733l-3.156-1.582v-3.157l-4.729-3.156v-3.158l-4.732-3.151v-3.151l-6.314-4.734v-3.157l-9.477-7.891v-3.157l-7.88-6.308l-12.627-14.205h-3.158l-7.885-9.466h-3.156l-4.734-6.314l-4.738-1.581l-1.575-3.157h-3.152l-3.151-4.733h-3.158l-1.58-3.156h-3.157l-1.581-3.158h-3.151l-1.581-3.151h-3.157l-1.576-3.157l-6.31-1.577l-1.575-3.157h-3.157v-1.581h-3.156v-1.6h-3.168v-1.581h-3.156v-1.583h-3.153v-1.579h-3.151v-1.572h-3.157v-1.581h-3.151v-1.576l-9.472-3.156v-1.583h-4.732v-1.581l-6.309-1.582v-1.566l-9.478-1.574v-1.582h-4.732v-1.581h-4.732v-1.577h-4.733v-1.58h-4.737v-1.576h-4.733v-1.581h-6.314v-1.576l-14.199-1.576v-1.58h-7.895v-1.582l-4.733,1.582v-1.582l-23.665-3.158h-17.366v-1.575h-20.514v1.575h-22.093v1.581H408.55l-53.655,12.628v1.577h-4.728v1.581h-3.158v1.582l-9.47,1.574v1.582h-3.158v1.576h-4.732v1.582l-6.309,1.58v1.576h-4.732v1.582l-9.471,3.157v1.576h-3.158v1.582l-6.304,1.581l-1.581,3.156l-9.471,3.158l-1.581,3.152l-6.304,1.581v1.577l-4.732,1.581l-1.582,3.157h-3.158l-1.58,3.157h-3.157l-3.153,4.733h-3.156l-1.581,3.158h-3.151l-4.733,6.313h-3.157l-6.314,7.886h-3.157l-14.205,15.783c-4.812,4.807-12.221,8.268-14.204,15.781h-3.156c-1.073,4.092-2.478,5.153-4.729,7.89h-1.581v3.157l-3.157,1.582v1.571l-3.157,1.581v3.156l-3.152,1.557v3.158l-4.733,3.157v3.156l-3.152,1.581v3.147l-3.158,1.582l-1.58,4.734h-1.581l-1.576,6.313l-3.157,1.58v3.158h-1.582l-3.157,9.467h-1.576v3.156h-1.575v3.157h-1.582v3.157h-1.581v3.157h-1.577l-3.152,9.466h-1.581v4.739h-1.582l-1.58,6.309h-1.577l-1.581,9.47c-4.396,11.121-8.82,24.292-12.624,36.293v7.896h-1.581v7.89h-1.582v9.467h-1.57v14.207h-1.581v23.667h-1.582l1.582,39.449h1.581v12.625h1.57v9.471h1.582v7.89h1.581v7.885h1.582v4.737h1.575l3.158,18.933h1.582v3.158h1.58l3.158,14.204h1.582v3.155h1.575l1.581,9.466h1.581l1.581,6.312h1.575v3.155h1.582l4.729,14.204l3.156,1.576l3.158,9.476l3.156,1.577l1.581,6.313l3.156,1.57l1.582,6.315l3.157,1.575v3.158l3.151,1.58v3.151l4.734,3.155v3.16l3.157,1.57v3.157l6.309,4.737v3.152l6.314,4.737v3.153l14.199,12.627v3.153h1.582l3.158,4.738h3.156l17.356,18.932h3.156l6.314,7.888h3.153l1.581,3.159l4.732,1.572l4.733,6.313h3.157l1.582,3.153l4.733,1.578v1.582h3.158l1.574,3.151l6.314,1.586l1.577,3.151h3.158v1.582h3.156l1.581,3.151c2.011,1.265,10.083,3.01,11.042,4.734v80.481c-14.351-0.161-24.971-8.978-34.717-14.2l-9.47-3.158l-1.581-3.155h-3.156v-1.58h-3.158v-1.586h-3.153l-1.58-3.149h-3.157l-1.582-3.151l-6.314-1.586l-1.58-3.152h-3.157l-1.583-3.151h-3.156v-1.58l-4.729-1.575l-1.579-3.158h-3.158l-1.576-3.157h-3.156l-3.158-4.735h-3.151l-1.582-3.154h-3.157l-4.728-6.306h-3.156l-3.157-4.739h-1.581l-1.58-3.155h-3.148v-1.576c-4.057-3.406-6.917-7.83-12.623-9.473v-3.15c-6.084-1.668-9.966-7.264-14.204-11.043l-1.582-3.155H-0.15c0.964-10.688,8.129-16.563,12.623-23.67l3.157-9.471l3.157-1.572v-3.155h1.582v-3.158l3.157-1.576l3.152-9.477l3.157-1.578v-3.153h1.58v-3.154l3.157-1.575l3.153-9.476l3.156-1.575v-3.158h1.576v-3.155l3.157-1.576l3.158-9.473l3.156-1.576l1.582-6.313l3.157-1.576l3.156-9.473l3.153-1.574l1.581-6.313l3.156-1.575l1.581-6.315h1.583c2.941-5.18,5.423-8.844,6.308-15.774h-1.581l-1.576-9.472h-1.59v-6.309H70.86v-6.31h-1.582v-3.158h-1.582l-1.58-14.204h-1.577v-7.884C52.237,547.38,50.322,464.018,62.96,422.059v-9.465h1.581v-4.732h1.577v-6.309h1.58v-7.89h1.582v-4.732h1.582v-4.734h1.576v-4.732h1.58v-6.309h1.576v-3.158h1.581l1.577-9.49h1.579v-3.157h1.583v-4.733h1.576v-3.156h1.576v-4.729h1.577l1.58-6.314h1.582v-4.732h1.576l3.157-9.472h1.582v-3.152h1.581v-3.156h1.582l3.157-9.471l3.157-1.577l3.157-9.466l3.157-1.582l1.581-6.309h1.571l1.582-4.732l3.158-1.581v-3.156h1.58l1.582-4.729l3.157-1.582v-3.156l4.732-3.158v-3.156l3.156-1.581v-3.156l3.158-1.582v-1.577l3.152-1.581v-3.156l7.895-6.31v-3.152l9.466-7.89v-3.157l17.356-15.775l7.889-9.472h3.157l9.467-11.042h3.157l4.733-6.309h3.156l4.732-6.315h3.153l1.581-3.157h3.156l3.158-4.729l4.733-1.581l1.576-3.157h3.158l1.58-3.156l6.309-1.581v-1.582l4.733-1.58l1.581-3.153l6.31-1.582l1.58-3.156l9.466-3.152l1.581-3.156h3.157v-1.582h3.158v-1.581h3.156v-1.572h3.158v-1.576h3.156v-1.581l9.467-3.157v-1.582h4.737v-1.576h3.158v-1.581h3.157v-1.576h3.157v-1.581l9.462-1.571v-1.581h3.156v-1.576l20.513-4.733c13.529-4.831,29.813-10.649,47.345-11.047l3.153-4.728h1.581l1.581-6.314l3.156-1.581v-3.158h1.576v-3.157h1.577v-3.157l3.156-1.575l3.157-9.467l3.155-1.576v-3.157h1.578v-3.157l3.154-1.576l3.154-9.47l3.158-1.577l3.156-9.471l3.158-1.577l1.582-6.313l3.156-1.581l3.158-9.465l3.149-1.577l3.116-9.466l3.156-1.581l1.576-6.31l3.158-1.571c1.272-2.007,3.003-10.087,4.731-11.052h4.733l1.581,4.733h1.581v3.157h1.582V5.46l3.156,1.571l1.577,6.309l3.157,1.581v3.157h1.576v3.158h1.586v3.156l3.152,1.577l3.152,9.465l3.152,1.581v3.158h1.582v3.156l3.152,1.577l3.156,9.471l3.158,1.577l3.152,9.47l3.152,1.576l1.582,6.314l3.156,1.576v3.157h1.576v3.153h1.581v3.158l3.151,1.575v3.157h1.586v3.157h1.577v3.158l3.156,1.581v3.156h1.581v3.158l4.733,3.151v1.581h9.467v1.581h7.889v1.576h1.581c1.337-1.066-0.553-2.222,1.582-1.576v1.576h4.732v1.581h6.31v1.582l14.208,1.581v1.58h4.733v1.576h4.733v1.581h4.737l56.807,23.67l1.576,3.157h3.157v1.561h3.151v1.576h3.157v1.581h3.152l1.581,3.151l6.31,1.582v1.581l4.737,1.576l1.575,3.157l6.31,1.581l3.158,4.732h3.156v1.582l4.732,1.581l1.576,3.156h3.157l1.581,3.158l4.728,1.576l3.158,4.733h3.151l4.742,6.309h3.153l7.884,9.471h3.153l15.784,17.355l23.671,22.095v3.158l6.305,4.732v3.156l6.308,4.729v3.156l6.314,4.734v3.156l3.157,1.577v3.157l4.732,3.146v3.158l3.152,1.582l1.577,6.313l3.156,1.575l1.576,4.734h1.586l3.151,9.465l3.152,1.581v3.157h1.586v3.151h1.575v3.158h1.587v3.157h1.576v3.157l3.152,1.576v3.152h1.576v3.158h1.581v4.732h1.58l3.157,9.472h1.576v3.156h1.58l18.938,56.807l1.576,17.361c8.208,25.936,7.881,58.919,7.891,93.1l-1.576,42.605h-1.586v11.049c-2.252,7.41-4.018,18.051-6.31,25.246v9.467l-14.204,41.026c3.779,2.609,0.989,1.187,3.158,4.735h1.576v3.153l3.151,1.586v3.146h1.576v3.16l3.156,1.579v3.158h1.581v3.146h1.58v3.156l3.158,1.577l1.576,6.315l3.156,1.58l3.152,9.471l3.147,1.58v3.147h1.591v3.158l3.152,1.582l3.152,9.469l3.151,1.578l1.586,6.308l3.151,1.581l1.582,6.31l3.152,1.578l3.157,9.473l3.146,1.582v3.146h1.581v3.16l3.151,1.58l3.157,9.471l3.157,1.576l1.581,6.313l3.152,1.582C904.037,766.036,905.608,770.768,907.194,775.508L907.194,775.508z M907.194,775.508"+"M695.76,456.753v-17.356h-1.587v-9.472h-1.576v-1.58c0.426-2.193,2.173,0.567,1.576-1.581h-1.576v-6.309h-1.577v-6.309h-1.586l-3.151-14.204h-1.581v-3.158h-1.58v-4.727h-1.576l-3.156-9.472h-1.581v-3.157h-1.576v-3.157h-1.587v-3.156h-1.575l-3.153-9.466l-3.156-1.582l-1.576-6.308h-1.581l-1.581-4.733l-3.156-1.581v-3.158l-4.734-3.152v-3.157l-4.732-3.152c-6.514-9.197-12.368-19.426-22.099-25.252v-3.156c-5.497-1.547-13.215-10.288-17.346-14.189l-1.582-3.157h-3.156l-3.153-4.732h-3.156l-3.152-4.734h-3.151l-1.581-3.156l-4.738-1.582v-1.582h-3.152l-1.581-3.146l-6.309-1.581l-1.576-3.158l-9.472-3.156v-1.582h-3.156v-1.576l-9.466-3.157v-1.577h-4.733v-1.576l-6.314-1.58v-1.581l-11.047-1.581v-1.582h-4.737v-1.571h-4.728v-1.581h-9.472v-1.581h-9.472v-1.577h-11.042v-1.581l-53.653-1.576v1.576h-17.357v1.581H406.97v1.577h-9.468v1.581h-9.47v1.581l-20.512,4.729v1.581h-3.158v1.581l-7.896,1.576v1.576l-9.465,3.157v1.576h-3.158v1.581l-9.471,3.158l-1.581,3.157l-6.304,1.581l-1.581,3.147h-3.158v1.58l-4.737,1.582l-1.577,3.157h-3.157l-1.581,3.157l-4.732,1.582l-4.729,6.309h-3.156L282.3,310.003l-14.199,12.619v3.156l-6.313,4.734v3.156l-3.158,1.581v1.576l-3.15,1.581v3.158l-3.153,1.581v3.156l-3.156,1.578v3.157l-3.158,1.575v3.157l-3.156,1.576l-1.582,6.309l-3.157,1.582l-3.156,9.464l-3.158,1.582l-4.727,14.204h-1.572l-1.581,6.309h-1.581l-1.58,7.89h-1.576l-9.472,41.025v25.249c-1.556,5.45-3.734,27.005-1.58,34.715h1.575v23.665h1.576v11.041h1.581l-1.581,3.158h1.581v4.739h1.582v7.888h1.575v4.739h1.582v3.146h1.581v3.16c2.246,4.11,6.142,7.873,9.47,11.045l1.582,3.153l9.461,3.156v1.581l7.895,6.304l1.577,7.89h1.58v23.671h-1.58v4.738h-1.577v7.885h-1.581v3.158h-1.576l-1.58,11.047h-1.582v3.151h-1.581c-3.382,7.741-3.626,16.974-9.466,22.094l1.576,18.933l3.158,1.579v3.158l4.732,3.153l4.737,6.304h3.158l1.576,3.156h3.157c12.408,8.256,26.7,17.616,47.339,17.362l-1.575-20.519h-1.582v-20.514h1.582l1.575-7.884h1.581l4.729-6.312c7.32,0.191,10.953,0.588,15.784,3.154v1.579h3.157v1.582l6.305,1.58l1.581,3.147h3.162l3.152,4.738h3.156l3.158,4.733h3.156l3.158,4.737h3.152l1.58,3.153l4.734,1.58v1.582c2.329,1.834,2.789,2.25,6.314,3.151c2.524,14.08,1.579,33.895,1.579,50.497v173.575c0,16.604,0.951,17.625-1.579,31.703l41.025,18.794V756.565c0-8.919-0.772-20.368,1.578-26.827c4.873,0.01,8.101,0.459,11.046,1.579v271.424h64.721V758.155c0-9.341-0.905-21.558,1.586-28.403h11.042v254.051l41.031-20.046c-2.531-14.077-1.586-13.842-1.586-30.449V759.736c0-16.61-0.95-36.42,1.586-50.497c3.494-0.96,3.97-1.308,6.309-3.157v-1.58l4.738-1.582l1.575-3.151h3.153l3.156-4.739h3.146l3.158-4.731h3.156l3.158-4.733h3.156l1.571-3.154h3.156v-1.58h3.157v-1.579h3.148v-1.582l7.89-1.58v-1.577c7.263,0.358,8.178,2.291,12.628,4.733c1.136,2.774,4.008,8.751,4.733,11.043v12.628h-1.576v11.041c-1.419,4.89-2.937,8.766-3.157,15.785c16.151-0.346,28.476-5.168,39.46-11.053v-1.576l9.461-3.156l1.581-3.151h3.152v-1.576c2.754-2.246,3.788-3.686,7.89-4.739c0.944-3.548,1.332-3.915,3.156-6.308h1.582c1.815-2.82,5.452-17.386,3.151-23.671h-1.582l-3.151-9.472h-1.576v-4.737h-1.585v-3.146h-1.576l-3.157-14.205h-1.58v-3.157h-1.581l-3.152-18.933c-0.969-3.146-3.378-13.428-1.581-18.937h1.581v-4.733h1.581v-3.157l7.89-9.467c3.161-1.052,6.319-2.099,9.467-3.156l4.737-6.31l3.152-1.579v-3.158l3.156-1.576v-3.155h1.581v-4.729h1.576v-3.158h1.585v-4.731h1.576l3.159-36.298C699.225,504.803,699.102,468.706,695.76,456.753z M386.437,611.411h-12.627v1.582h-17.356v1.575l-31.561-1.575v-1.582h-7.885v-1.58h-4.733v-1.582h-4.733v-1.581l-11.042-1.576v-1.586l-6.314-1.576v-1.575l-6.309-1.588l-1.581-3.149h-3.156l-11.043-12.623l-6.313-4.733l-11.043-25.252v-7.889c-3.626-11.899-6.705-54.474,1.582-63.121c1.18-4.456,2.813-4.533,4.728-7.891h4.738v-1.581c21.248,1.312,31.32,13.96,42.606,25.257l7.891,6.309l6.314,7.89h3.156l9.466,11.043h3.157l4.733,6.313h3.156l3.158,4.738h3.147l1.57,3.151h1.582l1.581,3.151l6.309,1.576l3.158,4.739l6.313,1.582l1.576,3.156l6.31,1.575l1.58,3.156l6.31,1.581v1.582l9.471,3.152v1.581h4.729v1.582h3.156v1.576h6.31v1.575h3.157v1.58l9.47,1.582v1.58l9.467,3.151v1.582h3.159v1.58l4.731,3.155v6.312h-1.581C432.916,604.643,402.128,606.742,386.437,611.411z M446.424,654.005h-1.574l-3.157,9.466h-1.583v3.151h-1.579v20.518c-4.591-0.892-5.421-1.962-7.889-4.733h-1.582v-3.151l-3.158-1.586l-1.569-7.89h-1.582v-3.153h-1.581l-1.578-9.465h-1.578v-1.58h1.578v-4.739l6.307-4.733v-1.58h3.156l3.157-4.737h1.574v-3.158c3.326-5.722,7.927-11.473,9.473-18.926v0.004h3.166V654.005z M479.551,676.093v3.158h-1.586l-6.303,7.885h-4.734c0.254-13.24,1.713-28.022-6.319-33.131v-39.456h1.582c3.117,12.333,15.422,32.167,25.25,37.874C487.25,664.371,483.706,668.884,479.551,676.093z M646.808,571.957l-1.581,6.308l-6.304,4.737v3.159h-1.58l-3.157,4.738h-3.158l-3.152,4.728h-3.151l-1.581,3.155l-6.31,1.578v1.58l-6.308,1.579v1.582l-15.776,3.154v1.579h-4.737v1.582h-7.891c-12.833,4.101-34.12,3.855-47.345,0l-20.513-1.582v-1.579h-6.31v-1.576l-3.152,1.576v-1.576h-7.89v-1.582h-3.152v-1.582h-6.314v-1.579h-3.152v-1.582h-4.738l-11.042-9.461v-7.896l11.042-7.89h4.738v-1.581h3.152v-1.576l14.205-3.156v-1.581h3.156v-1.58h4.733v-1.572h3.156v-1.585l7.892-1.578v-1.58h3.151v-1.582h3.151c0.529-1.051,1.048-2.103,1.581-3.155l6.31-1.576l1.581-3.157l6.314-1.576l1.575-3.155h3.153v-1.584l4.732-1.58l1.581-3.157h3.156l4.732-6.304c1.581-0.528,3.158-1.048,4.738-1.58l1.577-3.151h3.157l4.732-6.312h3.156l9.473-11.041h3.151l20.513-22.096h3.157l4.729-6.312h3.156l1.581-3.156h3.151v-1.582c4.294-2.026,4.239,0.769,7.892-3.158c3.685,0,7.37,0,11.041,0.021c1.537,1.894,4.088,3.572,6.31,4.731c3.515,8.517,6.274,15.948,6.314,28.403C659.52,536.339,657.831,554.129,646.808,571.957z",
        "IPReputationDF":"M956.965,468.348l-42.545-0.194c-4.256-43.515-15.279-85.291-32.104-123.776l51.443-29.785v-0.188 c0.387-0.193,0.58-0.387,0.967-0.387c19.146-11.22,25.725-35.588,14.699-54.734c-11.219-19.146-35.588-25.724-54.734-14.698 c-0.387,0.193-0.58,0.387-0.77,0.581l-50.285,29.01c-27.461-39.647-61.693-74.267-100.76-102.309l26.881-46.607h-0.193 c11.023-19.146,4.447-43.515-14.699-54.54c-19.146-11.024-43.709-4.447-54.729,14.698c-0.193,0.194-0.193,0.581-0.387,0.774 l-26.498,46.027c-41.578-18.759-86.643-30.94-134.023-35.007V52.347c0-22.243-17.986-40.034-40.036-40.034 c-22.046,0-40.035,17.984-40.035,40.034v45.447c-44.283,4.641-86.448,16.439-125.321,34.037l-26.688-46.414 c-11.218-19.146-35.587-25.723-54.732-14.698c-19.147,11.22-25.719,35.588-14.699,54.734l26.691,46.22 c-38.293,27.267-71.942,60.725-99.021,99.216l-44.096-25.529c-19.146-11.025-43.708-4.449-54.729,14.697 c-11.024,19.147-4.446,43.708,14.7,54.729l44.477,25.725c-17.79,39.646-29.396,82.581-34.038,127.644H46.448v0.582 c-21.856,0.193-39.647,17.983-39.647,40.03c0,22.244,17.984,40.035,40.034,40.035c1.738,0,3.287-0.193,4.835-0.387h40.224 c3.873,40.809,13.736,79.877,28.623,116.426l-48.925,28.234c-19.146,11.219-25.725,35.588-14.7,54.734 c11.215,19.146,35.583,25.723,54.729,14.699l46.031-26.887c23.207,35.395,51.83,66.92,84.513,93.801l-31.521,54.539 c-11.024,19.146-4.448,43.709,14.698,54.729c19.146,11.027,43.708,4.447,54.729-14.697l28.821-50.088 c45.446,24.369,96.313,40.418,150.072,46.027v42.934h0.387C460.9,983.561,477.922,1000,499,1000 c21.082,0,38.098-16.439,39.646-37.135h0.389v-42.354c55.502-4.836,107.916-20.502,154.912-45.064l27.848,48.35 c11.219,19.152,35.588,25.725,54.732,14.699c19.146-11.213,25.719-35.582,14.699-54.729l-29.979-52.217 c33.07-26.498,62.275-58.02,85.869-93.412l46.418,26.688v-0.195c0.387,0.195,0.387,0.387,0.77,0.58 c19.146,11.025,43.709,4.449,54.734-14.697c11.023-19.146,4.447-43.707-14.699-54.729c-0.387-0.193-0.58-0.193-0.969-0.387v-0.193 l-48.736-28.043c15.666-37.33,25.725-77.166,29.785-119.137h42.545c22.244,0,40.035-17.984,40.035-40.035 C997,486.333,979.016,468.348,956.965,468.348L956.965,468.348z M503.061,866.746c-197.654,0-357.788-160.135-357.788-357.787 c0-55.116,12.573-107.526,35.007-154.138l27.46-47.575c64.404-94.188,172.708-156.074,295.321-156.074 c197.652,0,357.787,160.135,357.787,357.788C861.041,706.418,700.713,866.746,503.061,866.746L503.061,866.746z M503.061,866.746"+"M346.167,644.105V368.208h36.511v275.898H346.167z"+"M447.041,644.105V368.208h104.072c18.317,0,32.306,0.88,41.968,2.635c13.551,2.259,24.904,6.558,34.064,12.892 c9.156,6.337,16.528,15.215,22.113,26.63c5.581,11.419,8.374,23.966,8.374,37.64c0,23.463-7.466,43.318-22.396,59.565 c-14.932,16.25-41.906,24.371-80.925,24.371h-70.762v112.166H447.041z M483.551,499.381h71.326 c23.587,0,40.337-4.391,50.249-13.174c9.91-8.78,14.868-21.14,14.868-37.075c0-11.541-2.918-21.422-8.752-29.641 c-5.834-8.216-13.521-13.645-23.054-16.279c-6.148-1.629-17.503-2.446-34.063-2.446h-70.574V499.381z",
        "MaliciousHashDF":"M607.573333 143.36L942.08 716.8l-3.413333-92.16L1024 614.4v269.653333l-235.52 136.533334-34.133333-75.093334 112.64-61.44H157.013333l112.64 61.44-34.133333 75.093334L0 887.466667v-273.066667l81.92 10.24-3.413333 122.88L436.906667 143.36 334.506667 204.8 286.72 136.533333l235.52-136.533333 235.52 136.533333-47.786667 68.266667-102.4-61.44z m-102.4-13.653333L102.4 802.133333c-10.24 17.066667-3.413333 30.72 17.066667 30.72h805.546666c17.066667 0 27.306667-13.653333 17.066667-30.72L539.306667 129.706667c-10.24-13.653333-27.306667-13.653333-34.133334 0z m-17.066666 242.346666c0-17.066667 13.653333-34.133333 34.133333-34.133333 17.066667 0 34.133333 13.653333 34.133333 34.133333v204.8c0 17.066667-13.653333 34.133333-34.133333 34.133334-17.066667 0-34.133333-13.653333-34.133333-34.133334v-204.8z m-3.413334 341.333334c0-17.066667 13.653333-34.133333 34.133334-34.133334 17.066667 0 34.133333 13.653333 34.133333 34.133334 0 17.066667-13.653333 34.133333-34.133333 34.133333-17.066667 0-34.133333-13.653333-34.133334-34.133333z",
        "APT":"M460.856,174.688h76.341l94.049,161.542l80.77-46.469L589.756,82.854H406.64L285.483,291.417l80.771,46.472L460.856,174.688z M112.323,769.954l99.583-169.838l-80.769-46.469L5,769.954l95.705,164.862h245.631v-91.284H154.373L112.323,769.954z M783.383,598.455l99.577,171.499l-42.044,72.469h-188.65v91.284h242.313l95.705-164.86L864.151,551.984L783.383,598.455z M783.383,598.455"+"M462.683,634.883h-39.307l-15.625-40.65h-71.533l-14.771,40.65h-38.33l69.702-178.956h38.208L462.683,634.883zM396.154,564.082l-24.658-66.407l-24.17,66.407H396.154z"+"M481.848,634.883V455.927h57.983c21.973,0,36.295,0.896,42.969,2.686c10.254,2.686,18.839,8.526,25.757,17.517c6.916,8.993,10.376,20.611,10.376,34.851c0,10.986-1.995,20.225-5.981,27.711c-3.988,7.488-9.054,13.366-15.198,17.639s-12.39,7.102-18.737,8.484c-8.627,1.709-21.118,2.563-37.476,2.563h-23.56v67.506H481.848z M517.98,486.201v50.782h19.775c14.24,0,23.762-0.936,28.564-2.809c4.801-1.871,8.564-4.801,11.292-8.789c2.726-3.986,4.089-8.625,4.089-13.916c0-6.51-1.913-11.88-5.737-16.113c-3.826-4.23-8.667-6.876-14.526-7.935c-4.314-0.813-12.981-1.221-26.001-1.221H517.98z"+"M688.879,634.883V486.201h-53.101v-30.273H777.99v30.273h-52.979v148.682H688.879z"
    };
    var colorList = {
       "APT":"#ff7800",
        "MaliciousURLsDF":"#efff3b",
        "BotnetCAndCURLsDF":"#1dadff",
        "MobileMaliciousHashDF":"#c77608",
        "MaliciousHashDF":"#c00d0e",
        "PhishingURLsDF":"#e57efb",
        "IPReputationDF":"#6affda"
    };
    var categoryNames = {
        "APT":"APT攻击",
        "MaliciousURLsDF":"恶意域名",
        "BotnetCAndCURLsDF":"僵尸网络C&C",
        "MobileMaliciousHashDF":"移动恶意程序",
        "MaliciousHashDF":"恶意程序",
        "PhishingURLsDF":"钓鱼链接和网站",
        "IPReputationDF":"恶意IP"
    };
    var d3_category20 = [ "#1f77b4", "#aec7e8", "#ff7f0e", "#ffbb78", "#2ca02c", "#98df8a", "#d62728", "#ff9896", "#9467bd", "#c5b0d5", "#8c564b", "#c49c94", "#e377c2", "#f7b6d2", "#7f7f7f", "#c7c7c7", "#bcbd22", "#dbdb8d", "#17becf", "#9edae5" ];
    var colors = function(){
        return d3_category20[parseInt(Math.random()*d3_category20.length)];
    }
    var ci=0;
    function Flight(a, b) {
        this.map = a,
        this.svg = b,
        this.curZoom = this.map.getZoom(),
        this.beginPoint = {
            lat: 0,
            lng: 0
        },
        this.endPoint = {
            lat: 0,
            lng: 0
        },
        this.bp_px = null,
        this.ep_px = null,
        this.group = null,
        this.bp_circle = null,
        this.ep_circle = null,
        this.radius = 6 * this.curZoom / 3,
        this.plane = null,
        this.pos_plane = {
            x: 0,
            y: 0
        },
        this.w_plane = 64,
        this.h_plane = 64,
        this.spos = 0,
        this.rot = 0,
        this.midPoint = {
            lat: 0,
            lng: 0
        },
        this.mp_px = null,
        this.road = null,
        this.road_points = null,
        this.group_road = null,
        this.clipPath = null,
        this.clipPath_rect = null,
        this.planeColor = "white",
        this.roadColor = "white",
        this.isCleaning = !1,
        this.rank = 0,
        this.translate = 0,
        this.type = null,
        this.feature = function(attack){
            attack.s.lng = (attack.s.lng + this.translate < -180) ? (attack.s.lng + this.translate + 360) : (attack.s.lng + this.translate);
            attack.t.lng = (attack.t.lng + this.translate < -180) ? (attack.t.lng + this.translate + 360) : (attack.t.lng + this.translate);
            return attack;
        }
        this.init = function(attack) {
            var a = attack.s;
            var b = attack.t;
            this.beginPoint.lat = a.lat,
            this.beginPoint.lng = a.lng,
            this.bp_px = this.map.latLngToLayerPoint([a.lat, a.lng]),
            this.endPoint.lat = b.lat,
            this.endPoint.lng = b.lng,
            this.ep_px = this.map.latLngToLayerPoint([b.lat, b.lng]),
            this.pos_plane.x = this.bp_px.x,
            this.pos_plane.y = this.bp_px.y;
            this.distance = Victor(this.bp_px.x, this.bp_px.y).distance(Victor(this.ep_px.x, this.ep_px.y));
            this.startTime = new Date().getTime();
            var c = Math.random() < .5 ? -1 : 1,
            d = (a.lat + b.lat) / 2,
            e = (a.lng + b.lng) / 2;
    
            this.midPoint.lat = (a.lat + b.lat) / 2,
            this.midPoint.lng = (a.lng + b.lng) / 2;
    
            this.mp_px = this.map.latLngToLayerPoint([this.midPoint.lat, this.midPoint.lng]);
            if(this.rank != 0){
                var abs = parseInt((this.rank + 1)/2);
                var direc = this.rank % 2 ? 1 : -1;
                var x1 = this.bp_px.x;
                var y1 = this.bp_px.y;
                var x2 = this.ep_px.x;
                var y2 = this.ep_px.y;
                var x0 = (x1+x2)/2;
                var y0 = (y1+y2)/2;
                var offset = abs/20 * Math.sqrt((x2-x1)*(x2-x1) + (y2-y1)*(y2-y1));
                var k = 1;
                if(y2 != y1){
                    k = -(x2-x1)/(y2-y1);
                }
                var b = y0 - k * x0;
                var x = direc * Math.sqrt((offset * offset)/(k * k + 1));
                var y = k * x;
                this.midPoint.lat = y0 + y,
                this.midPoint.lng = x0 + x;
                this.mp_px = {
                    x:x0 + x,
                    y:y0 + y
                };
            }
            this.group = this.svg.append("g"),
            this.road_points = [[this.bp_px.x, this.bp_px.y], [this.mp_px.x, this.mp_px.y], [this.ep_px.x, this.ep_px.y]],
            this.clipPath = this.group.append("defs").append("clipPath").attr("id", "aaa").attr("clip-rule", "evenodd");
            var f = this.getClipRect(this.bp_px, this.mp_px, this.pos_plane);
            this.clipPath_rect = this.clipPath.append("rect").attr("x", f[0]).attr("y", f[1]).attr("width", f[2]).attr("height", f[3]),
            this.group_road = this.group.append("g"),
            this.group_road.attr("clip-path", "url(#aaa)"),
            this.road = this.group_road.append("path").datum(this.road_points).attr("stroke", this.roadColor).attr("stroke-width", 1.5).attr("stroke-dasharray", "10 5").attr("fill", "none").attr("d", d3.line().curve(d3.curveBundle.beta(.5)))
            .style("opacity",0.0);
            var that = this;
            this.bp_circle = this.group.append("circle").attr("fill", this.beginColor),
            this.ep_circle = this.group.append("circle").attr("fill", this.endColor),
            this.load_plane()
        },
        this.getClipRect = function(a, b, c) {
            var d, e, f, g, h, i;
            return d = Math.min(a.x, c.x),
            e = Math.min(a.y, c.y),
            f = Math.max(a.x, c.x),
            g = Math.max(a.y, c.y),
            Math.abs(this.ep_px.x - this.bp_px.x) >= Math.abs(this.ep_px.y - this.bp_px.y) ? (h = 0, i = 800) : (h = 800, i = 0),
            [d - h, e - i, f - d + 2 * h, g - e + 2 * i]
        },
        this.load_plane = function() {
            var a = this.w_plane,
            b = this.h_plane,
            c = this.pos_plane.x,
            d = this.pos_plane.y,
            e = this.spos + .01,
            f = this.road.node().getTotalLength(),
            g = this.road.node().getPointAtLength(e * f),
            h = Victor(g.x - c, g.y - d).angleDeg();
            this.rot = h + 45;
            this.spos;
            this.plane = this.group.append("g").attr("transform",
            function() {
                var e = "translate(" + c + "," + d + ")",
                f = "rotate(" + h + ")",
                g = "scale(0)",
                i = "translate(" + a / -2 + "," + b / -2 + ")";
                return e + f + g + i
            }).attr("fill", this.planeColor);
    
            this.d_plane = "M36 36 L29 29 L58 0 L65 0 L65 7 Z"
    
            this.plane.append("path").attr("d", this.d_plane)
        },
        this.render = function() {
            var a = this.getClipRect(this.bp_px, this.mp_px, this.pos_plane);
            this.clipPath_rect.attr("x", a[0]).attr("y", a[1]).attr("width", a[2]).attr("height", a[3]),
            this.road_points = [[this.bp_px.x, this.bp_px.y], [this.mp_px.x, this.mp_px.y], [this.ep_px.x, this.ep_px.y]],
            this.road.datum(this.road_points).attr("d", d3.line().curve(d3.curveBundle.beta(.5))),
            this.bp_circle.attr("cx", this.bp_px.x).attr("cy", this.bp_px.y).attr("r", this.radius),
            this.ep_circle.attr("cx", this.ep_px.x).attr("cy", this.ep_px.y).attr("r", this.radius);
            var b = this.w_plane,
            c = this.h_plane,
            d = this.pos_plane.x,
            e = this.pos_plane.y,
            f = this.rot,
            g = this.spos,
            h = d3.scaleLinear().domain([0, .9, 1]).range([.3, .5, 0]);
            this.plane.attr("transform",
            function() {
                var a = "translate(" + d + "," + e + ")",
                i = "rotate(" + f + ")",
                j = "scale(" + h(g) + ")",
                k = "translate(" + b / -2 + "," + c / -2 + ")";
                return a + i + j + k
            });
            this.plane.selectAll("path").attr("d", this.d_plane);
        },
        this.update = function() {
            this.curZoom = this.map.getZoom(),
            this.radius = 6 * this.curZoom / 5,//攻击、被攻击点半径
    
            this.road_points = [[this.bp_px.x, this.bp_px.y],[this.mp_px.x, this.mp_px.y],[this.ep_px.x, this.ep_px.y]],
            this.road.datum(this.road_points).attr("d", d3.line().curve(d3.curveBundle.beta(.5)));
            //计算攻击进度
            var distance = this.distance;
            var add = 20/distance;
            this.spos = ((new Date().getTime() - this.startTime)*0.8)/this.distance;
            this.spos = this.spos <= 1 ? this.spos : 1;
            
            //攻击位移
            var a = this.road.node().getTotalLength();
            b = this.road.node().getPointAtLength(this.spos * a);
            this.pos_plane.x = b.x,
            this.pos_plane.y = b.y;
    
            //攻击点形变
            var distance_now = distance * this.spos;
            if(distance_now < 100){
                var addy = distance_now * 2;
                this.d_plane = 'M'
                    + (36 - addy) + ' ' + (36 + addy)
                    + ' L'+(29 - addy) + ' ' + (29 + addy)
                    + ' L58 0 L65 0 L65 7 Z';
            }else{
                this.d_plane = "M-175 240 L58 0 L65 0 L65 7 Z";
            }
    
            //攻击实时角度
            new_spos = (this.spos + add) > 1 ? 1 : (this.spos + add);
    
            var c = this.spos <= 1 ? new_spos : this.spos,
            d = this.road.node().getPointAtLength(c * a),
            e = Victor(d.x - this.pos_plane.x, d.y - this.pos_plane.y).angleDeg();
            this.rot = e + 45
        },
        this.setPlaneColor = function(a) {
            this.planeColor = a,
            this.plane && this.plane.attr("fill", a)
        },
        this.setRoadColor = function(a) {
            this.roadColor = a,
            this.road && this.road.attr("stroke", a)
        },
        this.setBeginColor = function(a) {
            this.beginColor = a,
            this.bp_circle && this.bp_circle.attr("fill", a)
        },
        this.setEndColor = function(a) {
            this.endColor = a,
            this.ep_circle && this.ep_circle.attr("fill", this.endColor)
        },
        this.isEnd = function() {
            return this.spos >= 1
        },
        this.delete = function() {
            this.bp_circle.transition().duration(2500).style("opacity", "0.0").attr("r", 0).remove(),
            this.road.transition().duration(1e3).style("opacity", "0.0").attr("stroke-width", 0).remove(),
            this.ep_circle.transition().duration(500).style("opacity", "0.0").attr("r", 0).remove();
            var _this = this;
            this.ico = this.group.append("path")
            .attr("d", pathList[this.type])
            .style("fill",this.planeColor)
            .style("opacity", "0.0")
            .attr("transform",function(){
                 var a = "translate(" + (_this.ep_px.x) + "," +(_this.ep_px.y) + ")scale(0)";
                 return a;
            })
            .transition().duration(500)
            .attr("transform",function(){
                 var a = "translate(" + (_this.ep_px.x-20.5) + "," +(_this.ep_px.y-20.5) + ")scale(0.04)";
                 return a;
            })
            .style("opacity", "1"),
            this.ico.transition().duration(1500).style("opacity", "0.0").attr("r", 0).remove();
            this.group.append("circle")
                .attr("cx",this.ep_circle.attr("cx")).attr("cy",this.ep_circle.attr("cy")).attr("r",0).attr("fill","rgba(0,0,0,0)")
                .style("stroke-width",(this.type == 'APT' ? 4 : 2) * this.curZoom)
                .style("stroke",this.planeColor)
                .transition().duration((this.type == 'APT' ? 2000 : 1000)).ease(Math.sqrt).attr("r",(this.type == 'APT' ? 60 : 30) * this.curZoom).style("stroke-opacity",1e-6).remove();
            this.group.transition().delay(10000).style("opacity", "0.0").remove();
            this.plane.remove();
        },
        this.remove = function() {
            this.bp_circle.remove(),
            this.road.remove(),
            this.ep_circle.remove(),
            this.group.remove()
        },
        this.d_plane = "M-175 240 L58 0 L65 0 L65 7 Z"
    }